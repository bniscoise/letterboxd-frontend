<div class="space-y-6">
  <div class="flex flex-wrap items-center justify-between gap-4">
    <div class="space-y-1">
      <h1 class="text-2xl font-semibold text-monokai-text">Liste de films</h1>
      @if (isOwner()) {
      <p class="text-sm text-monokai-muted">Vous consultez votre liste personnelle.</p>
      } @else if (viewingUsername()) {
      <p class="text-sm text-monokai-muted">
        Liste publique de {{ viewingUsername() }}.
      </p>
      } @else if (viewingUserId() !== null) {
      <p class="text-sm text-monokai-muted">
        Liste publique de l'utilisateur #{{ viewingUserId() }}.
      </p>
      }
    </div>
    <div class="flex items-center gap-3">
      <button
        type="button"
        class="rounded-lg border border-monokai-border bg-monokai-surface px-3 py-2 text-sm transition hover:text-monokai-text"
        (click)="navigateBackToSearch()"
      >
        Retour à la recherche
      </button>
    </div>
  </div>

  @if (error()) {
  <div class="rounded-lg border border-red-500/40 bg-red-500/10 px-4 py-3 text-sm text-red-200">
    {{ error() }}
  </div>
  }

  <app-user-movie-list
    [userMovies]="userMovies()"
    [pagedUserMovies]="pagedUserMovies()"
    [loading]="loading()"
    [reviewOpen]="reviewOpen()"
    [canToggleReview]="canToggleReview()"
    [canDelete]="isOwner()"
    [reviewButtonLabel]="reviewButtonLabel()"
    [currentPage]="currentPage()"
    [totalPages]="totalPages()"
    [pageNumbers]="pageNumbers()"
    (reviewToggle)="toggleReview($event)"
    (viewInformation)="viewUserMovieInformation($event)"
    (deleteUserMovie)="deleteUserMovie($event)"
    (previousPage)="previousPage()"
    (nextPage)="nextPage()"
    (goToPage)="goToPage($event)"
  ></app-user-movie-list>

  @if (!isOwner() && viewingUserId() !== null) {
  <p class="text-xs text-monokai-muted">
    Seul le propriétaire de cette liste peut modifier ou supprimer des films.
  </p>
  }
</div>
