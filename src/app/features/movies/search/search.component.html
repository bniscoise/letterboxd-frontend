<div class="mb-4 flex gap-3">
  @if (authService.isAuthenticated()) {
    <button
      type="button"
      class="rounded-lg bg-monokai-accent px-3 py-2 text-sm font-semibold text-monokai-background transition hover:bg-monokai-yellow"
      (click)="openUserMovies()"
    >
      Mes films
    </button>
  }
</div>

<app-search-bar [control]="queryControl"></app-search-bar>

<app-movie-results
  [loading]="loading()"
  [searchPerformed]="searchPerformed()"
  [query]="queryControl.value"
  [movies]="movies()"
  [pagedMovies]="pagedMovies()"
  [currentPage]="currentPage()"
  [totalPages]="totalPages()"
  [pageNumbers]="pageNumbers()"
  (addMovie)="openAddModal($event)"
  (previousPage)="previousPage()"
  (nextPage)="nextPage()"
  (goToPage)="goToPage($event)"
  (viewInformation)="viewMovieInformation($event)"
></app-movie-results>
<app-user-movie-add-modal
  [open]="isAddModalOpen()"
  [movie]="selectedMovie()"
  (closed)="closeAddModal()"
  (submitted)="handleModalSubmitted()"
></app-user-movie-add-modal>
